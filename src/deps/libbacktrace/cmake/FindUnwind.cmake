
find_path(LIBUNWIND_INCLUDE_DIR unwind.h)
find_library(LIBUNWIND_LIBRARY NAMES unwind)
find_library(LIBUNWIND_PTRACE_LIBRARY NAMES unwind-ptrace)

if(LIBUNWIND_INCLUDE_DIR AND LIBUNWIND_LIBRARY AND LIBUNWIND_PTRACE_LIBRARY)
   set(UNWIND_FOUND TRUE)
endif()

if(NOT UNWIND_FOUND)
    if(UNWIND_FIND_REQUIRED)
       message(FATAL_ERROR "Could not find UNWIND library")
    endif()
endif()

mark_as_advanced(LIBUNWIND_LIBRARY LIBUNWIND_INCLUDE_DIR LIBUNWIND_PTRACE_LIBRARY)
